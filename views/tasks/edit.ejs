<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/new.css">
    <title>Edit Task</title>
</head>
<body>
    <form method="POST" action="/tasks/<%=task._id%>?_method=PUT">
        <h3>Edit the Task</h3>

        <label for="title">Task Title:</label>
        <input id="title" name="task[title]" type="text" value="<%= task.title %>" required>
        <br>

        <label for="description">Task Description:</label>
        <textarea id="description" name="task[description]"><%= task.description %></textarea>
        <br>

        <label for="dueDate">Due Date and Time:</label>
        <input id="dueDate" name="task[dueDate]" type="datetime-local" value="<%= new Date(task.dueDate).toISOString().slice(0, 16) %>" required>
        <br>

        <label for="priority">Priority (1-3):</label>
        <input id="priority" name="task[priority]" type="number" min="1" max="3" value="<%= task.priority %>" required>
        <br>

        <label for="taskStatus">Task Status:</label>
        <select id="taskStatus" name="task[taskStatus]">
            <option value="Not Started" <%= task.taskStatus === 'Not Started' ? 'selected' : '' %>>Not Started</option>
            <option value="In Progress" <%= task.taskStatus === 'In Progress' ? 'selected' : '' %>>In Progress</option>
            <option value="Completed" <%= task.taskStatus === 'Completed' ? 'selected' : '' %>>Completed</option>
        </select>
        <br>

        <label for="createdAt">Created Date and Time:</label>
        <input id="createdAt" name="task[createdAt]" type="datetime-local" value="<%= new Date(task.createdAt).toISOString().slice(0, 16) %>" required>
        <br>        

        <button type="submit">Edit Task</button>                       
    </form>
</body>
</html>
