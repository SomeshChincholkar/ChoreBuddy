<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/new.css">
    <title>Add New Task</title>
</head>
<body>
    <form method="POST" action="/groups/<%= group._id %>/addTask">
        <h3>Create a New Task</h3>

        <label for="title">Task Title:</label>
        <input id="title" name="task[title]" placeholder="Enter task title" type="text" required>
        <br>

        <label for="description">Task Description:</label>
        <textarea id="description" name="task[description]" placeholder="Enter task description"></textarea>
        <br>

        <label for="dueDate">Due Date and Time:</label>
        <input id="dueDate" name="task[dueDate]" placeholder="Enter due date and time" type="datetime-local" required>
        <br>

        <label for="priority">Priority (1-3):</label>
        <input id="priority" name="task[priority]" placeholder="Enter priority (1-3)" type="number" min="1" max="3" required>
        <br>

        <label for="taskStatus">Task Status:</label>
        <select id="taskStatus" name="task[taskStatus]">
            <option value="Not Started">Not Started</option>
            <option value="In Progress">In Progress</option>
            <option value="Completed">Completed</option>
        </select>
        <br>

        <label for="createdAt">Created Date and Time:</label>
        <input id="createdAt" name="task[createdAt]" placeholder="Enter Created date and time" type="datetime-local" required>
        <br>        

        <label for="assignedTo">Assign To:</label>
        <select id="assignedTo" name="task[assignedTo]" required>
            <% group.members.forEach(member => { %>
                <option value="<%= member._id %>"><%= member.username %></option>
            <% }) %>
        </select>
        <br>

        <button type="submit">Add Task</button>                       
    </form>
</body>
</html>
